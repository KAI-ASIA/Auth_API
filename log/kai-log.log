09-01-2025 17:28:24.294 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 19324 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:28:24.310 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:28:24.310 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:28:54.268 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 3768 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:28:54.274 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:28:54.275 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:28:59.425 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:29:00.428 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.941 seconds (JVM running for 7.545)
09-01-2025 17:29:28.160 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:29:28.194 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:29:28.222 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:29:28.222 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39#[API-BEGIN]
09-01-2025 17:29:28.239 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39#BEGIN
09-01-2025 17:29:28.485 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39#END
09-01-2025 17:29:28.511 INFO  --- com.kaiasia.app.core.ProcessService      - 1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39##pushApiReqToQueue#Duration:288
09-01-2025 17:29:29.033 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 17:29:29.034 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:29:29.034 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:29:29.034 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:29:29.034 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:29:29.037 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:29:31.183 ERROR --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#while calling api T24_UTIL_API: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
09-01-2025 17:29:31.186 ERROR --- com.kaiasia.app.register.ServiceRegister - {}
java.lang.reflect.InvocationTargetException: null
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.kaiasia.app.register.RequestProcessor.execute(RequestProcessor.java:20)
	at com.kaiasia.app.register.ServiceRegister.processAuthenType(ServiceRegister.java:82)
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:36)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437)
	at ms.apiclient.client.common.ApiRestTemplate.call(ApiRestTemplate.java:25)
	at ms.apiclient.client.common.ApiCallClient.call(ApiCallClient.java:35)
	at ms.apiclient.t24util.T24UtilClient.login(T24UtilClient.java:15)
	at com.kaiasia.app.service.Auth_api.api.login.LoginService.process(LoginService.java:90)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:499)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:594)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:278)
	at sun.net.www.http.HttpClient.New(HttpClient.java:375)
	at sun.net.www.http.HttpClient.New(HttpClient.java:393)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1240)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1167)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1061)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:995)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 19 common frames omitted
09-01-2025 17:29:31.188 ERROR --- com.kaiasia.app.ProcessImpl              - {}
java.lang.NullPointerException: null
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:39)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
09-01-2025 17:29:31.188 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:29:31.188 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2949, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:29:31.297 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39#saveResponse#Duration: 109
09-01-2025 17:29:31.455 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39##END
09-01-2025 17:29:31.455 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418568222000_0000_201a0d7d7c7b4266ac45be14ac1b5f39#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2949, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))#Total time: 3295
09-01-2025 17:31:16.087 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:31:19.748 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:31:19.754 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:31:19.754 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:31:19.754 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418679754000_0000_97be384c859d4d618f5b75df1a095426#[API-BEGIN]
09-01-2025 17:31:19.783 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418679754000_0000_97be384c859d4d618f5b75df1a095426#BEGIN
09-01-2025 17:31:20.011 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418679754000_0000_97be384c859d4d618f5b75df1a095426#END
09-01-2025 17:31:20.044 INFO  --- com.kaiasia.app.core.ProcessService      - 1736418679754000_0000_97be384c859d4d618f5b75df1a095426##pushApiReqToQueue#Duration:288
09-01-2025 17:31:20.215 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 17:31:20.215 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418679754000_0000_97be384c859d4d618f5b75df1a095426, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:31:20.215 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418679754000_0000_97be384c859d4d618f5b75df1a095426, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:31:20.215 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:31:20.215 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:31:20.215 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:31:22.287 ERROR --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#while calling api T24_UTIL_API: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
09-01-2025 17:31:22.288 ERROR --- com.kaiasia.app.register.ServiceRegister - {}
java.lang.reflect.InvocationTargetException: null
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.kaiasia.app.register.RequestProcessor.execute(RequestProcessor.java:20)
	at com.kaiasia.app.register.ServiceRegister.processAuthenType(ServiceRegister.java:82)
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:36)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437)
	at ms.apiclient.client.common.ApiRestTemplate.call(ApiRestTemplate.java:25)
	at ms.apiclient.client.common.ApiCallClient.call(ApiCallClient.java:35)
	at ms.apiclient.t24util.T24UtilClient.login(T24UtilClient.java:15)
	at com.kaiasia.app.service.Auth_api.api.login.LoginService.process(LoginService.java:90)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:499)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:594)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:278)
	at sun.net.www.http.HttpClient.New(HttpClient.java:375)
	at sun.net.www.http.HttpClient.New(HttpClient.java:393)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1240)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1167)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1061)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:995)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 19 common frames omitted
09-01-2025 17:31:22.288 ERROR --- com.kaiasia.app.ProcessImpl              - {}
java.lang.NullPointerException: null
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:39)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
09-01-2025 17:31:22.288 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:31:22.288 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2531, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:31:22.345 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736418679754000_0000_97be384c859d4d618f5b75df1a095426#saveResponse#Duration: 57
09-01-2025 17:31:22.394 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418679754000_0000_97be384c859d4d618f5b75df1a095426##END
09-01-2025 17:31:22.394 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418679754000_0000_97be384c859d4d618f5b75df1a095426#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2531, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))#Total time: 2646
09-01-2025 17:31:37.188 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$60871598.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 17:31:40.683 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 19716 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:31:40.683 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:31:40.683 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:31:45.416 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:31:46.323 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.278 seconds (JVM running for 6.805)
09-01-2025 17:32:20.710 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:32:20.718 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:32:20.746 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:32:20.746 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c#[API-BEGIN]
09-01-2025 17:32:20.774 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c#BEGIN
09-01-2025 17:32:21.028 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c#END
09-01-2025 17:32:21.061 INFO  --- com.kaiasia.app.core.ProcessService      - 1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c##pushApiReqToQueue#Duration:315
09-01-2025 17:32:21.564 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 17:32:21.564 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:32:21.564 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:32:21.564 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:32:21.564 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:32:21.564 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:32:23.693 ERROR --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#while calling api T24_UTIL_API: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
09-01-2025 17:32:23.693 ERROR --- com.kaiasia.app.register.ServiceRegister - {}
java.lang.reflect.InvocationTargetException: null
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.kaiasia.app.register.RequestProcessor.execute(RequestProcessor.java:20)
	at com.kaiasia.app.register.ServiceRegister.processAuthenType(ServiceRegister.java:82)
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:36)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8082/T24_UTIL_API/process": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437)
	at ms.apiclient.client.common.ApiRestTemplate.call(ApiRestTemplate.java:25)
	at ms.apiclient.client.common.ApiCallClient.call(ApiCallClient.java:35)
	at ms.apiclient.t24util.T24UtilClient.login(T24UtilClient.java:15)
	at com.kaiasia.app.service.Auth_api.api.login.LoginService.process(LoginService.java:90)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:499)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:594)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:278)
	at sun.net.www.http.HttpClient.New(HttpClient.java:375)
	at sun.net.www.http.HttpClient.New(HttpClient.java:393)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1240)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1167)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1061)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:995)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 19 common frames omitted
09-01-2025 17:32:23.693 ERROR --- com.kaiasia.app.ProcessImpl              - {}
java.lang.NullPointerException: null
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:39)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
09-01-2025 17:32:23.693 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:32:23.693 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2919, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:32:23.750 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c#saveResponse#Duration: 57
09-01-2025 17:32:23.956 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c##END
09-01-2025 17:32:23.956 INFO  --- com.kaiasia.app.core.MainRestController  - 1736418740746000_0000_9607d2c1c20e432f8bbfd65c4c368d9c#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=2919, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))#Total time: 3246
09-01-2025 17:36:30.545 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$3cdba278.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 17:36:33.239 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 9040 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:36:33.239 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:36:33.239 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:36:37.682 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:36:38.728 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.092 seconds (JVM running for 6.618)
09-01-2025 17:36:44.103 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:36:44.119 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:36:44.135 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:36:44.135 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4#[API-BEGIN]
09-01-2025 17:36:44.151 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4#BEGIN
09-01-2025 17:36:44.403 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4#END
09-01-2025 17:36:44.435 INFO  --- com.kaiasia.app.core.ProcessService      - 1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4##pushApiReqToQueue#Duration:300
09-01-2025 17:36:44.970 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 17:36:44.970 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:36:44.970 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:36:44.970 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:36:44.970 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:36:44.978 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:36:45.393 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 17:36:45.434 ERROR --- com.kaiasia.app.register.ServiceRegister - {}
java.lang.reflect.InvocationTargetException: null
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.kaiasia.app.register.RequestProcessor.execute(RequestProcessor.java:20)
	at com.kaiasia.app.register.ServiceRegister.processAuthenType(ServiceRegister.java:82)
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:36)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.NullPointerException: null
	at com.kaiasia.app.service.Auth_api.api.login.LoginService.process(LoginService.java:92)
	... 13 common frames omitted
09-01-2025 17:36:45.442 ERROR --- com.kaiasia.app.ProcessImpl              - {}
java.lang.NullPointerException: null
	at com.kaiasia.app.ProcessImpl.process(ProcessImpl.java:39)
	at com.kaiasia.app.core.ProcessThread.process(ProcessThread.java:58)
	at com.kaiasia.app.core.job.ApiResTask.execute(ApiResTask.java:25)
	at com.kaiasia.app.core.async.KaiTask.run(KaiTask.java:15)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
09-01-2025 17:36:45.442 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:36:45.442 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1291, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))
09-01-2025 17:36:45.506 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4#saveResponse#Duration: 64
09-01-2025 17:36:45.660 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4##END
09-01-2025 17:36:45.660 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419004135000_0000_93623a0167a1495d9039b8cd5e9881a4#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1291, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=999, desc=Internal Server Error java.lang.NullPointerException))#Total time: 1557
09-01-2025 17:43:44.341 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$672c8e4e.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 17:43:50.903 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 20504 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:43:50.903 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:43:50.903 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:43:55.548 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:43:56.447 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.151 seconds (JVM running for 6.69)
09-01-2025 17:44:12.338 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:44:12.362 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:44:12.387 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:44:12.387 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2#[API-BEGIN]
09-01-2025 17:44:12.418 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2#BEGIN
09-01-2025 17:44:12.663 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2#END
09-01-2025 17:44:12.688 INFO  --- com.kaiasia.app.core.ProcessService      - 1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2##pushApiReqToQueue#Duration:301
09-01-2025 17:44:13.348 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 17:44:13.348 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:44:13.348 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:44:13.348 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:44:13.348 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:44:13.355 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:44:14.091 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 17:44:14.196 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#END#Duration:848
09-01-2025 17:44:14.196 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, sessionId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 17:44:14.196 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1778, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, sessionId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 17:44:14.254 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2#saveResponse#Duration: 58
09-01-2025 17:44:14.321 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2##END
09-01-2025 17:44:14.321 INFO  --- com.kaiasia.app.core.MainRestController  - 1736419452387000_0000_0c330a3c145148d7b0fece0ecc9353b2#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1778, priority=1, context=null, synasyn=false), body={enquiry={transId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, sessionId=281692_1736419454147_25d59c97698e40b18f5b3882220851f4, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, username=28169200}, status=OK}, error=null)#Total time: 1983
09-01-2025 17:53:33.338 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$53469f12.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 17:53:55.115 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 18848 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:53:55.123 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:53:55.123 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:53:59.965 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:54:01.087 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.648 seconds (JVM running for 7.296)
09-01-2025 17:54:33.210 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$a9a6093.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 17:54:36.445 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 11916 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 17:54:36.453 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 17:54:36.453 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 17:54:41.123 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 17:54:42.020 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 6.194 seconds (JVM running for 6.681)
09-01-2025 17:54:52.843 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:54:52.852 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 17:54:52.876 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 17:54:52.876 INFO  --- com.kaiasia.app.core.MainRestController  - 1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf#[API-BEGIN]
09-01-2025 17:54:52.893 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf#BEGIN
09-01-2025 17:54:53.143 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf#END
09-01-2025 17:54:53.168 INFO  --- com.kaiasia.app.core.ProcessService      - 1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf##pushApiReqToQueue#Duration:292
09-01-2025 17:54:53.902 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 7
09-01-2025 17:54:53.902 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:54:53.902 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 17:54:53.902 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 17:54:53.902 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 17:54:53.902 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 17:54:54.638 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 17:54:54.735 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#END#Duration:833
09-01-2025 17:54:54.735 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, sessionId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 17:54:54.735 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1842, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, sessionId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 17:54:54.794 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf#saveResponse#Duration: 59
09-01-2025 17:54:54.866 INFO  --- com.kaiasia.app.core.MainRestController  - 1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf##END
09-01-2025 17:54:54.866 INFO  --- com.kaiasia.app.core.MainRestController  - 1736420092876000_0000_18711ee87a6c4ace9ddfc5096cdef4cf#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1842, priority=1, context=null, synasyn=false), body={enquiry={transId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, sessionId=281692_1736420094679_248ca0a2209b44c8a895e96d3ab8b331, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, username=28169200}, status=OK}, error=null)#Total time: 2023
09-01-2025 18:10:06.247 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$d26e3276.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 18:10:12.203 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 11112 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 18:10:12.203 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 18:10:12.203 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 18:10:16.610 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 18:10:17.470 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.885 seconds (JVM running for 6.401)
09-01-2025 18:11:02.466 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:11:02.481 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 18:11:02.499 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 18:11:02.499 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1#[API-BEGIN]
09-01-2025 18:11:02.530 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1#BEGIN
09-01-2025 18:11:02.768 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1#END
09-01-2025 18:11:02.798 INFO  --- com.kaiasia.app.core.ProcessService      - 1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1##pushApiReqToQueue#Duration:299
09-01-2025 18:11:03.416 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 18:11:03.416 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:11:03.416 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:11:03.416 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 18:11:03.416 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 18:11:03.416 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 18:11:03.954 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 18:11:04.065 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#END#Duration:649
09-01-2025 18:11:04.065 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, sessionId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 18:11:04.065 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1550, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, sessionId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 18:11:04.112 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1#saveResponse#Duration: 47
09-01-2025 18:11:04.216 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1##END
09-01-2025 18:11:04.217 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421062499000_0000_ac6e1177563b4ee386583e7651b719e1#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1550, priority=1, context=null, synasyn=false), body={enquiry={transId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, sessionId=281692_1736421064006_f19fdfcab9854d7698b4152af398a85d, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, username=28169200}, status=OK}, error=null)#Total time: 1751
09-01-2025 18:16:06.151 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$4edd9b77.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 18:16:13.511 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 2116 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 18:16:13.527 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 18:16:13.527 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 18:16:17.979 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 3 classes with annotation SeabService
09-01-2025 18:16:18.894 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.979 seconds (JVM running for 6.452)
09-01-2025 18:16:22.957 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:16:22.973 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 18:16:22.989 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 18:16:22.989 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e#[API-BEGIN]
09-01-2025 18:16:23.020 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e#BEGIN
09-01-2025 18:16:23.268 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e#END
09-01-2025 18:16:23.297 INFO  --- com.kaiasia.app.core.ProcessService      - 1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e##pushApiReqToQueue#Duration:308
09-01-2025 18:16:23.659 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 18:16:23.659 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:16:23.659 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 18:16:23.659 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 18:16:23.659 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 18:16:23.659 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 18:16:24.220 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 18:16:24.326 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#END#Duration:667
09-01-2025 18:16:24.326 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, sessionId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 18:16:24.326 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1306, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, sessionId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 18:16:24.389 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e#saveResponse#Duration: 63
09-01-2025 18:16:24.518 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e##END
09-01-2025 18:16:24.518 INFO  --- com.kaiasia.app.core.MainRestController  - 1736421382989000_0000_f9c04ab24eb64a1eaade7605d901f50e#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1306, priority=1, context=null, synasyn=false), body={enquiry={transId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, sessionId=281692_1736421384279_b08bcaecf2044838afabca5bf42ce763, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, username=28169200}, status=OK}, error=null)#Total time: 1561
09-01-2025 20:17:36.473 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$a9a6093.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 20:45:05.557 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 20724 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 20:45:05.559 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 20:45:05.560 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 20:45:09.564 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 20:45:10.360 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.319 seconds (JVM running for 5.735)
09-01-2025 20:45:43.669 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:45:43.681 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_login
09-01-2025 20:45:43.701 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 20:45:43.701 INFO  --- com.kaiasia.app.core.MainRestController  - 1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853#[API-BEGIN]
09-01-2025 20:45:43.717 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853#BEGIN
09-01-2025 20:45:43.960 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853#END
09-01-2025 20:45:43.988 INFO  --- com.kaiasia.app.core.ProcessService      - 1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853##pushApiReqToQueue#Duration:287
09-01-2025 20:45:44.617 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 20:45:44.618 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:45:44.618 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=login, username=28169200, password=Phaivu@123}, status=OK}, _reqId=1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:45:44.618 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: login
09-01-2025 20:45:44.619 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#BEGIN
09-01-2025 20:45:44.622 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#begin call api T24_UTIL_API
09-01-2025 20:45:45.564 INFO  --- ms.apiclient.client.common.ApiCallClient - API-28169200-null#end call api T24_UTIL_API
09-01-2025 20:45:45.655 INFO  --- com.kaiasia.app.service.Auth_api.api.login.LoginService - API-28169200-null#END#Duration:1036
09-01-2025 20:45:45.656 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 20:45:45.656 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1940, priority=1, context=null, synasyn=false), body={enquiry=LoginResponse(transId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, companyCode=null, username=28169200), status=OK}, error=null)
09-01-2025 20:45:45.715 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853#saveResponse#Duration: 59
09-01-2025 20:45:45.903 INFO  --- com.kaiasia.app.core.MainRestController  - 1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853##END
09-01-2025 20:45:45.904 INFO  --- com.kaiasia.app.core.MainRestController  - 1736430343701000_0000_5c7eb0f52c034b13897baa331b2ed853#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1940, priority=1, context=null, synasyn=false), body={enquiry={transId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, responseCode=00, packageUser=IND, phone=0123456789, customerID=281692, customerName=Vu Van Phai, username=28169200}, status=OK}, error=null)#Total time: 2235
09-01-2025 20:47:33.023 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sesssionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:47:33.023 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 20:47:33.024 INFO  --- com.kaiasia.app.ValidateImpl             - 706 MISSING FIELD#sessionId
09-01-2025 20:49:28.090 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sesssionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:49:28.091 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 20:49:28.091 INFO  --- com.kaiasia.app.ValidateImpl             - 706 MISSING FIELD#sessionId
09-01-2025 20:50:18.258 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:50:18.259 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 20:50:18.259 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 20:50:18.259 INFO  --- com.kaiasia.app.core.MainRestController  - 1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555#[API-BEGIN]
09-01-2025 20:50:18.286 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555#BEGIN
09-01-2025 20:50:18.524 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555#END
09-01-2025 20:50:18.552 INFO  --- com.kaiasia.app.core.ProcessService      - 1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555##pushApiReqToQueue#Duration:293
09-01-2025 20:50:19.174 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 20:50:19.174 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:50:19.174 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:50:19.175 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 20:50:19.237 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 20:50:19.240 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:65
09-01-2025 20:50:19.240 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:50:19.240 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=981, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:50:19.296 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736430618259000_0000_e78cf7e9bb944e5c8e38a93af7c51555#saveResponse#Duration: 56
09-01-2025 20:53:18.479 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 20:53:25.241 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 7464 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 20:53:25.241 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 20:53:25.241 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 20:53:29.353 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 20:53:30.157 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.419 seconds (JVM running for 5.835)
09-01-2025 20:53:34.288 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:53:34.300 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 20:53:34.319 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 20:53:34.320 INFO  --- com.kaiasia.app.core.MainRestController  - 1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1#[API-BEGIN]
09-01-2025 20:53:34.339 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1#BEGIN
09-01-2025 20:53:34.582 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1#END
09-01-2025 20:53:34.610 INFO  --- com.kaiasia.app.core.ProcessService      - 1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1##pushApiReqToQueue#Duration:290
09-01-2025 20:53:35.045 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 20:53:35.046 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:53:35.046 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:53:35.046 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 20:53:35.108 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 20:53:35.112 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:66
09-01-2025 20:53:35.113 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:53:35.113 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=776, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:53:35.171 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736430814319000_0000_21db2685f3934437a03531a6c8f5daf1#saveResponse#Duration: 58
09-01-2025 20:57:47.184 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 20:57:52.111 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 4568 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 20:57:52.114 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 20:57:52.114 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 20:57:55.922 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 20:57:56.687 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.104 seconds (JVM running for 5.547)
09-01-2025 20:57:58.957 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:57:58.967 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 20:57:58.983 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 20:57:58.983 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a#[API-BEGIN]
09-01-2025 20:57:58.998 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a#BEGIN
09-01-2025 20:57:59.234 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a#END
09-01-2025 20:57:59.261 INFO  --- com.kaiasia.app.core.ProcessService      - 1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a##pushApiReqToQueue#Duration:278
09-01-2025 20:58:00.074 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 20:58:00.074 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:58:00.075 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 20:58:00.075 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 20:58:00.135 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 20:58:00.139 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:64
09-01-2025 20:58:00.140 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:58:00.140 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=1144, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 20:58:00.196 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736431078983000_0000_69d310dc48f440828a7d492cd8a94c6a#saveResponse#Duration: 56
09-01-2025 21:01:22.663 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 12120 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:01:22.666 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:01:22.666 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:01:26.958 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:01:27.798 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.704 seconds (JVM running for 6.156)
09-01-2025 21:01:34.770 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:01:34.780 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 21:01:34.798 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 21:01:34.798 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1#[API-BEGIN]
09-01-2025 21:01:34.811 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1#BEGIN
09-01-2025 21:01:35.051 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1#END
09-01-2025 21:01:35.080 INFO  --- com.kaiasia.app.core.ProcessService      - 1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1##pushApiReqToQueue#Duration:282
09-01-2025 21:01:35.681 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 21:01:35.682 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:01:35.682 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:01:35.682 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 21:01:35.742 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 21:01:35.745 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:63
09-01-2025 21:01:35.746 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 21:01:35.746 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=936, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 21:01:35.802 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736431294798000_0000_f44bd7cd9d5647b5a0484b7ca4efedc1#saveResponse#Duration: 56
09-01-2025 21:04:50.010 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:04:54.629 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 22028 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:04:54.629 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:04:54.629 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:04:58.324 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:04:59.078 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 4.927 seconds (JVM running for 5.379)
09-01-2025 21:05:20.220 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:05:20.233 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 21:05:20.241 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 21:05:20.241 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f#[API-BEGIN]
09-01-2025 21:05:20.261 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f#BEGIN
09-01-2025 21:05:20.520 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f#END
09-01-2025 21:05:20.551 INFO  --- com.kaiasia.app.core.ProcessService      - 1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f##pushApiReqToQueue#Duration:310
09-01-2025 21:05:21.136 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 21:05:21.139 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:05:21.139 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:05:21.139 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 21:05:21.199 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 21:05:21.206 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:67
09-01-2025 21:05:21.206 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 21:05:21.206 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=945, priority=1, context=null, synasyn=false), body=null, error=null)
09-01-2025 21:05:21.269 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736431520241000_0000_008efdfd693b479d9cb0d9c00ad5b38f#saveResponse#Duration: 63
09-01-2025 21:06:16.978 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:06:21.677 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 4664 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:06:21.677 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:06:21.677 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:06:25.429 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:06:26.201 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.105 seconds (JVM running for 5.507)
09-01-2025 21:06:28.934 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:06:28.949 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 21:06:28.965 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 21:06:28.965 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0#[API-BEGIN]
09-01-2025 21:06:29.005 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0#BEGIN
09-01-2025 21:06:29.238 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0#END
09-01-2025 21:06:29.268 INFO  --- com.kaiasia.app.core.ProcessService      - 1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0##pushApiReqToQueue#Duration:303
09-01-2025 21:06:29.572 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 0
09-01-2025 21:06:29.572 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:06:29.572 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458}, status=OK}, _reqId=1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:06:29.572 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 21:06:29.633 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#Update session expiration  successfully
09-01-2025 21:06:29.633 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-28169200-null#END#Duration:61
09-01-2025 21:06:29.633 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={enquiry=com.kaiasia.app.service.Auth_api.dto.SessionResponse@1921769f, status=OK}, error=null)
09-01-2025 21:06:29.633 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=658, priority=1, context=null, synasyn=false), body={enquiry=com.kaiasia.app.service.Auth_api.dto.SessionResponse@1921769f, status=OK}, error=null)
09-01-2025 21:06:29.693 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0#saveResponse#Duration: 60
09-01-2025 21:06:29.777 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0##END
09-01-2025 21:06:29.777 INFO  --- com.kaiasia.app.core.MainRestController  - 1736431588965000_0000_910ef6a094fb46798b034b50d200e5e0#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=658, priority=1, context=null, synasyn=false), body={enquiry={responseCode=00, sessionId=281692_1736430345597_0229e1cd3a794e53b592b1c7b1b3e458, username=28169200}, status=OK}, error=null)#Total time: 843
09-01-2025 21:06:39.130 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:14:42.648 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 17292 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:14:42.654 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:14:42.655 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:14:46.666 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:14:47.528 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.415 seconds (JVM running for 5.871)
09-01-2025 21:15:34.977 INFO  --- com.kaiasia.app.core.MainRestController  - MsgFromClient_Receive:ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_}, status=OK}, _reqId=null, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:15:34.989 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method validate for AuthenType: VALIDATE_takeSession
09-01-2025 21:15:35.009 INFO  --- com.kaiasia.app.ValidateImpl             - 000 OK
09-01-2025 21:15:35.009 INFO  --- com.kaiasia.app.core.MainRestController  - 1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20#[API-BEGIN]
09-01-2025 21:15:35.029 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20#BEGIN
09-01-2025 21:15:35.273 INFO  --- com.kaiasia.app.core.dao.APIDaoManager   - InsertAPIReqs()1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20#END
09-01-2025 21:15:35.301 INFO  --- com.kaiasia.app.core.ProcessService      - 1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20##pushApiReqToQueue#Duration:291
09-01-2025 21:15:35.946 INFO  --- com.kaiasia.app.core.ProcessThread       - checkTimeInQueue: 1
09-01-2025 21:15:35.946 DEBUG --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_}, status=OK}, _reqId=1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:15:35.947 INFO  --- com.kaiasia.app.ProcessImpl              - received msg: ApiRequest(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={command=GET_ENQUIRY, enquiry={authenType=takeSession, sessionId=281692_1736430345597_}, status=OK}, _reqId=1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20, _rejectCounter=null, _sendTime=null, _command=null, _authenType=null, _timeOut=null)
09-01-2025 21:15:35.947 DEBUG --- com.kaiasia.app.register.ServiceRegister - Execute method AuthenType: takeSession
09-01-2025 21:15:35.982 INFO  --- com.kaiasia.app.service.Auth_api.api.takesession.TakeSessionService - API-Unknown-null#END#Duration:34
09-01-2025 21:15:35.983 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=REQUEST, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=null, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=803, desc=RequestId not exist))
09-01-2025 21:15:35.983 INFO  --- com.kaiasia.app.core.ProcessThread       - RESPONSE :ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=956, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=803, desc=RequestId not exist))
09-01-2025 21:15:36.043 INFO  --- com.kaiasia.app.core.ProcessThread       - 1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20#saveResponse#Duration: 60
09-01-2025 21:15:36.060 INFO  --- com.kaiasia.app.core.MainRestController  - 1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20##END
09-01-2025 21:15:36.061 INFO  --- com.kaiasia.app.core.MainRestController  - 1736432135009000_0000_76bc3d87de394c75aead5bf8b0ca1b20#MsgFromClient_Response:ApiResponse(header=ApiHeader(reqType=RESPONSE, api=Auth_API, apiKey=authq51klfoni1ezxl5f2ckpfx248, channel=API, location=PC/IOS, requestAPI=FE API, requestNode=node 01, duration=956, priority=1, context=null, synasyn=false), body={status=FAILE}, error=ApiError(code=803, desc=RequestId not exist))#Total time: 1084
09-01-2025 21:16:31.376 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$f5c81a51.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:16:36.185 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 14512 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:16:36.187 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:16:36.188 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:16:40.069 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:16:40.886 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.233 seconds (JVM running for 5.725)
09-01-2025 21:37:38.208 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 16480 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:37:38.210 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:37:38.211 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:37:41.983 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:37:42.732 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 4.999 seconds (JVM running for 5.395)
09-01-2025 21:38:21.393 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$e906e81e.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:38:26.141 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 15008 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:38:26.144 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:38:26.145 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:38:29.998 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:38:30.729 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.213 seconds (JVM running for 5.644)
09-01-2025 21:40:56.921 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$e906e81e.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy82.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:41:01.778 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 18924 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:41:01.780 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:41:01.780 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:41:05.758 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:41:06.587 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.307 seconds (JVM running for 5.708)
09-01-2025 21:42:00.186 INFO  --- com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService - Error deleting expired sessions
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [DELETE FROM auth_api.auth_session WHERE end_time < ?]; nested exception is org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:101)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper.update(PosgrestDAOHelper.java:28)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$FastClassBySpringCGLIB$$c8fbc219.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$EnhancerBySpringCGLIB$$89d0918d.update(<generated>)
	at com.kaiasia.app.service.Auth_api.dao.SessionIdDAO.deleteExpireSessionId(SessionIdDAO.java:95)
	at com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService.deleteExpiredSession(SessionCleanupService.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 31 common frames omitted
09-01-2025 21:43:00.061 INFO  --- com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService - Error deleting expired sessions
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [DELETE FROM auth_api.auth_session WHERE end_time < ?]; nested exception is org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:101)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper.update(PosgrestDAOHelper.java:28)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$FastClassBySpringCGLIB$$c8fbc219.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$EnhancerBySpringCGLIB$$89d0918d.update(<generated>)
	at com.kaiasia.app.service.Auth_api.dao.SessionIdDAO.deleteExpireSessionId(SessionIdDAO.java:95)
	at com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService.deleteExpiredSession(SessionCleanupService.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 31 common frames omitted
09-01-2025 21:44:00.067 INFO  --- com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService - Error deleting expired sessions
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [DELETE FROM auth_api.auth_session WHERE end_time < ?]; nested exception is org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:101)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper.update(PosgrestDAOHelper.java:28)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$FastClassBySpringCGLIB$$c8fbc219.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.PosgrestDAOHelper$$EnhancerBySpringCGLIB$$89d0918d.update(<generated>)
	at com.kaiasia.app.service.Auth_api.dao.SessionIdDAO.deleteExpireSessionId(SessionIdDAO.java:95)
	at com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService.deleteExpiredSession(SessionCleanupService.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: timestamp without time zone < bigint
  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 31 common frames omitted
09-01-2025 21:44:12.825 ERROR --- com.kaiasia.app.core.job.ApiFetchReqTask - EXCEPTION FETCH DB: {}
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.kaiasia.app.core.dao.APIDaoManager$$EnhancerBySpringCGLIB$$726d4dc9.fetchAPIReqs(<generated>)
	at com.kaiasia.app.core.job.ApiFetchReqTask.run(ApiFetchReqTask.java:40)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy83.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 11 common frames omitted
09-01-2025 21:44:17.528 INFO  --- com.kaiasia.app.AppApplication           - Starting AppApplication using Java 1.8.0_421 on Trinh with PID 2428 (E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi\target\classes started by vinh5 in E:\web\KAI-TTS\KAI-TTS\Fw\DemoApi)
09-01-2025 21:44:17.530 DEBUG --- com.kaiasia.app.AppApplication           - Running with Spring Boot v2.7.2, Spring v5.3.22
09-01-2025 21:44:17.530 INFO  --- com.kaiasia.app.AppApplication           - No active profile set, falling back to 1 default profile: "default"
09-01-2025 21:44:21.261 DEBUG --- com.kaiasia.app.register.ServiceRegister - Found 4 classes with annotation SeabService
09-01-2025 21:44:22.086 INFO  --- com.kaiasia.app.AppApplication           - Started AppApplication in 5.049 seconds (JVM running for 5.432)
09-01-2025 21:45:00.037 INFO  --- com.kaiasia.app.service.Auth_api.schedule.SessionCleanupService - 7 expired session(s) deleted.
